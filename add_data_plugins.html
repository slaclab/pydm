<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Including Data Plugins &mdash; PyDM 1.27.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Application" href="application.html" />
    <link rel="prev" title="Widget Rules" href="widgets/widget_rules/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            PyDM
          </a>
              <div class="version">
                1.27.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorials/index.html">Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User &amp; API Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="stylesheets.html">Customizing the Look and Feel</a></li>
<li class="toctree-l1"><a class="reference internal" href="help_files.html">Adding Help Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="widgets/index.html">Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="widgets/widget_rules/index.html">Widget Rules</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Including Data Plugins</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pydm.data_plugins.add_plugin"><code class="docutils literal notranslate"><span class="pre">add_plugin()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#pydm.data_plugins.load_plugins_from_path"><code class="docutils literal notranslate"><span class="pre">load_plugins_from_path()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="application.html">Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="channel.html">Channel</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities/index.html">Utilities</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Plugins</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="data_plugins/local_plugin.html">Local Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_plugins/calc_plugin.html">Calc Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_plugins/p4p_plugin.html">P4P Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_plugins/external_plugins.html">External Data Plugins</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developers Corner</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="development/development.html">Development Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/external_tools.html">External Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="widgets/widget_rules/customizing.html">Customizing Properties for Rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/designer_widgets.html">Designer Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="development/resources.html">Recommended Resources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/slaclab/pydm">PyDM GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/slaclab">SLAC-wide GitHub</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PyDM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Including Data Plugins</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/add_data_plugins.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="including-data-plugins">
<h1>Including Data Plugins<a class="headerlink" href="#including-data-plugins" title="Permalink to this heading"></a></h1>
<p>PyDM is built with a flexible architecture such that information from multiple
sources can be displayed without changing widget code. This allows widgets to
be agnostic of the data source that updates them and focus on the logic of
displaying information.  PyDM will always import the built-in plugins found in
the <code class="docutils literal notranslate"><span class="pre">data_plugins</span></code> folder,  but some advanced users may want to include
custom data plugins as well. A mapping of <code class="docutils literal notranslate"><span class="pre">protocol</span></code> to <code class="docutils literal notranslate"><span class="pre">PyDMPlugin</span></code> is
kept within <code class="docutils literal notranslate"><span class="pre">pydm.data_plugins.plugin_modules</span></code> and mirrored in
<code class="xref py py-attr docutils literal notranslate"><span class="pre">PyDMApplication.plugins</span></code>. This is where the <code class="docutils literal notranslate"><span class="pre">PyDMApplication</span></code> will
determine which plugin to use when you provided it with a channel.</p>
<p>If you would like add a library of plugins from a specific folder for every
session, PyDM will check all paths provided by the environment variable
<code class="docutils literal notranslate"><span class="pre">$PYDM_DATA_PLUGINS_PATH</span></code>. This folder will be searched for files that fit
the name <code class="docutils literal notranslate"><span class="pre">{}_plugin.py</span></code> and attempt to load the contained plugin. Each of
these files should contain a single <code class="docutils literal notranslate"><span class="pre">PyDMPlugin</span></code>. For those searching for a
more programmatic approach the API is documented below. Take note that all
plugins should be registered before the <code class="docutils literal notranslate"><span class="pre">PyDMApplication</span></code> is launched,
otherwise they will not be registered in time for connections to be made.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pydm.data_plugins.add_plugin">
<span class="sig-prename descclassname"><span class="pre">pydm.data_plugins.</span></span><span class="sig-name descname"><span class="pre">add_plugin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plugin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="data_plugins/external_plugins.html#pydm.data_plugins.PyDMPlugin" title="pydm.data_plugins.plugin.PyDMPlugin"><span class="pre">PyDMPlugin</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="data_plugins/external_plugins.html#pydm.data_plugins.PyDMPlugin" title="pydm.data_plugins.plugin.PyDMPlugin"><span class="pre">PyDMPlugin</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/pydm/data_plugins.html#add_plugin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.data_plugins.add_plugin" title="Permalink to this definition"></a></dt>
<dd><p>Add a PyDM plugin to the global registry of protocol vs. plugins</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>plugin</strong> (<em>PyDMPlugin type</em>) – The class of plugin to instantiate</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>plugin</strong> – The instantiated PyDMPlugin. If instantiation failed, will return None.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="data_plugins/external_plugins.html#pydm.data_plugins.PyDMPlugin" title="pydm.data_plugins.PyDMPlugin">PyDMPlugin</a>, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydm.data_plugins.load_plugins_from_path">
<span class="sig-prename descclassname"><span class="pre">pydm.data_plugins.</span></span><span class="sig-name descname"><span class="pre">load_plugins_from_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'_plugin.py'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="data_plugins/external_plugins.html#pydm.data_plugins.PyDMPlugin" title="pydm.data_plugins.plugin.PyDMPlugin"><span class="pre">PyDMPlugin</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/pydm/data_plugins.html#load_plugins_from_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.data_plugins.load_plugins_from_path" title="Permalink to this definition"></a></dt>
<dd><p>Load plugins from file locations that match a specific token</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>locations</strong> (<em>list</em><em> of </em><em>str</em>) – List of file locations</p></li>
<li><p><strong>token</strong> (<em>str</em>) – Phrase that must match the end of the filename for it to be checked for
PyDMPlugins</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>plugins</strong> – Dictionary of plugins add from this folder</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="widgets/widget_rules/index.html" class="btn btn-neutral float-left" title="Widget Rules" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="application.html" class="btn btn-neutral float-right" title="Application" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, hhslepicka, trendahl, zlentz, yektay, nstelter.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>