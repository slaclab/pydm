<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Development Guidelines &mdash; PyDM 1.26.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="External Tools" href="external_tools.html" />
    <link rel="prev" title="External Data Plugins" href="../data_plugins/external_plugins.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            PyDM
          </a>
              <div class="version">
                1.26.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User &amp; API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../stylesheets.html">Customizing the Look and Feel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help_files.html">Adding Help Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../widgets/index.html">Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../widgets/widget_rules/index.html">Widget Rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../add_data_plugins.html">Including Data Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../application.html">Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../channel.html">Channel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utilities/index.html">Utilities</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Plugins</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../data_plugins/local_plugin.html">Local Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_plugins/calc_plugin.html">Calc Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_plugins/p4p_plugin.html">P4P Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_plugins/external_plugins.html">External Data Plugins</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developers Corner</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Development Guidelines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#creating-a-local-checkout">Creating a Local Checkout</a></li>
<li class="toctree-l2"><a class="reference internal" href="#commit-guidelines">Commit Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="#merging-changes">Merging Changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#syncing-your-local-checkout">Syncing your Local Checkout</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="external_tools.html">External Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../widgets/widget_rules/customizing.html">Customizing Properties for Rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="designer_widgets.html">Designer Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="resources.html">Recommended Resources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/slaclab/pydm">PyDM GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/slaclab">SLAC-wide GitHub</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PyDM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Development Guidelines</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/development/development.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="development-guidelines">
<h1>Development Guidelines<a class="headerlink" href="#development-guidelines" title="Permalink to this heading"></a></h1>
<p>It is recommended that PyDM is updated and maintained in the
following way. This workflow was not invented here at SLAC,
there are many helpful tutorials online like <a class="reference external" href="https://guides.github.com/introduction/flow">this</a> if you want more information.</p>
<section id="creating-a-local-checkout">
<h2>Creating a Local Checkout<a class="headerlink" href="#creating-a-local-checkout" title="Permalink to this heading"></a></h2>
<p>If you want to make changes to a repository the first step is to create your
own fork. This allows you to create feature branches without cluttering the
main repository. It also assures that the main repository is only added to by
Pull Request and review. Repositories can be forked from the GitHub site like
presented at <a class="reference external" href="https://help.github.com/articles/fork-a-repo">this example</a>.
Once this repository is created, you can clone into your own workspace.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://YOUR-USERNAME@github.com/YOUR-USERNAME/REPOSITORY.git
</pre></div>
</div>
<p>Now, that we have a copy of the repository create a branch for the feature or
bug you would like to work on.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>-b<span class="w"> </span>my-feature

$<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>my-feature
nothing<span class="w"> </span>to<span class="w"> </span>commit,<span class="w"> </span>working<span class="w"> </span>tree<span class="w"> </span>clean
</pre></div>
</div>
</section>
<section id="commit-guidelines">
<h2>Commit Guidelines<a class="headerlink" href="#commit-guidelines" title="Permalink to this heading"></a></h2>
<p>Now you are ready to start working! Make changes to files and commit them to
your new branch. We like to preface our commit messages with a descriptor code.
This makes it easier for someone reviewing your commit history to see what you
have done.  These are borrowed from the <a class="reference external" href="https://docs.scipy.org/doc/numpy/dev/gitwash/development_workflow.html#writing-the-commit-message">NumPy</a>
development documentation.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Code</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>API</p></td>
<td><p>an (incompatible) API change</p></td>
</tr>
<tr class="row-odd"><td><p>BLD</p></td>
<td><p>change related to building</p></td>
</tr>
<tr class="row-even"><td><p>BUG</p></td>
<td><p>bug fix</p></td>
</tr>
<tr class="row-odd"><td><p>DEP</p></td>
<td><p>deprecate something, or remove a deprecated object</p></td>
</tr>
<tr class="row-even"><td><p>DEV</p></td>
<td><p>development tool or utility</p></td>
</tr>
<tr class="row-odd"><td><p>DOC</p></td>
<td><p>documentation</p></td>
</tr>
<tr class="row-even"><td><p>ENH</p></td>
<td><p>enhancement</p></td>
</tr>
<tr class="row-odd"><td><p>MNT</p></td>
<td><p>maintenance commit (refactoring, typos, etc.)</p></td>
</tr>
<tr class="row-even"><td><p>REV</p></td>
<td><p>revert an earlier commit</p></td>
</tr>
<tr class="row-odd"><td><p>STY</p></td>
<td><p>style fix (whitespace, PEP8)</p></td>
</tr>
<tr class="row-even"><td><p>TST</p></td>
<td><p>addition or modification of tests</p></td>
</tr>
<tr class="row-odd"><td><p>REL</p></td>
<td><p>related to releasing numpy</p></td>
</tr>
<tr class="row-even"><td><p>WIP</p></td>
<td><p>Commit that is a work in progress</p></td>
</tr>
</tbody>
</table>
<p>It is also helpful underneath classes and functions to write docstrings. These
are later converted by Sphinx into HTML documentation. They also are a valuable
tool for exploration of a codebase within an IPython terminal. Docstrings
should follow the form described in the <a class="reference external" href="http://www.sphinx-doc.org/en/stable/ext/example_numpy.html">NumPy documentation</a></p>
</section>
<section id="merging-changes">
<h2>Merging Changes<a class="headerlink" href="#merging-changes" title="Permalink to this heading"></a></h2>
<p>Once you are happy with your code, <code class="docutils literal notranslate"><span class="pre">push</span></code> it back to your fork on GitHub.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>my-feature
</pre></div>
</div>
<p>You should now be able to create a Pull Request back to the original
repository. <strong>You should never commit directly back to the original
repository</strong>. In fact, if you are creating a new repository it is possible to
strictly disallow this by explicitly protecting certain branches from direct
commits.The reason we feel strongly that Pull Requests are necessary because
they:</p>
<ol class="arabic simple">
<li><p>Allows other collaborators to view the changes you made, and give feedback.</p></li>
<li><p>Leave an easily understood explanation to why these changes are necessary.</p></li>
</ol>
<p>Once these changes are deemed acceptable to enter the main repository, they
Pull Request can be merged.</p>
</section>
<section id="syncing-your-local-checkout">
<h2>Syncing your Local Checkout<a class="headerlink" href="#syncing-your-local-checkout" title="Permalink to this heading"></a></h2>
<p>Inevitably, changes to the upstream repository will occur and you will need to
update your local checkout to reflect those. The first step is to make your
local checkout aware of the upstream repository. If this is done correctly, you
should see something like this:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>remote<span class="w"> </span>add<span class="w"> </span>upstream<span class="w"> </span>https://github.com/UPSTREAM-ORG/REPOSITORY.git
$<span class="w"> </span>git<span class="w"> </span>remote<span class="w"> </span>-v
origin<span class="w">   </span>https://github.com/YOUR-USERNAME/REPOSITORY.git<span class="w"> </span><span class="o">(</span>fetch<span class="o">)</span>
origin<span class="w">   </span>https://github.com/YOUR-USERNAME/REPOSITORY.git<span class="w"> </span><span class="o">(</span>push<span class="o">)</span>
upstream<span class="w"> </span>https://github.com/UPSTREAM-ORG/REPOSITORY.git<span class="w"> </span><span class="o">(</span>fetch<span class="o">)</span>
upstream<span class="w"> </span>https://github.com/UPSTREAM-ORG/REPOSITORY.git<span class="w"> </span><span class="o">(</span>push<span class="o">)</span>
</pre></div>
</div>
<p>Now, we need to fetch any changes from the upstream repository. <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch</span></code>
will grab the latest commits that were merged since we made our own fork</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>fetch<span class="w"> </span>upstream
</pre></div>
</div>
<p>Ideally you haven’t made any changes to your <code class="docutils literal notranslate"><span class="pre">master</span></code> branch. So you should be
able to merge the latest <code class="docutils literal notranslate"><span class="pre">master</span></code> branch from the upstream repository without
concern. All you need to do is to switch to your <code class="docutils literal notranslate"><span class="pre">master</span></code> branch, and pull in
the changes from the upstream remote. It is usually a good idea to push any
changes back to your fork as well.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>master
$<span class="w"> </span>git<span class="w"> </span>pull<span class="w"> </span>upstream<span class="w"> </span>master
$<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>master
</pre></div>
</div>
<p>Finally, we need to update our feature-branch to have the new changes. Here we
use a <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rebase</span></code> to take our local changes, remove them temporarily, pull
the upstream changes into our branch, and then re-add our local changes on the
tip of the commit history. This avoids extraneous merge commits that clog the
commit history of the branch. A more in-depth discussion can be found <a class="reference external" href="https://www.atlassian.com/git/tutorials/merging-vs-rebasing">here</a>. This process
should look like this:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>my-feature
$<span class="w"> </span>git<span class="w"> </span>rebase<span class="w"> </span>upstream/master
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This process should not be done if you think that anyone else is also
working on that branch. The rebasing process re-writes the commit history so
any other checkout of the same branch referring to the old history will
create duplicates of all the commits.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../data_plugins/external_plugins.html" class="btn btn-neutral float-left" title="External Data Plugins" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="external_tools.html" class="btn btn-neutral float-right" title="External Tools" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, hhslepicka, trendahl, zlentz, yektay, nstelter.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>