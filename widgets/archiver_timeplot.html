<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Archiver Appliance Enabled Time Plots &mdash; PyDM 1.27.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="PyDMWaveformPlot" href="waveformplot.html" />
    <link rel="prev" title="PyDMEventPlot" href="event_plot.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            PyDM
          </a>
              <div class="version">
                1.27.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User &amp; API Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../stylesheets.html">Customizing the Look and Feel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help_files.html">Adding Help Files</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Widgets</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#display-widgets">Display Widgets</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#input-widgets">Input Widgets</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#plot-widgets">Plot Widgets</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="curve_editor.html">Plot Curve Editor</a></li>
<li class="toctree-l3"><a class="reference internal" href="scatterplot.html">PyDMScatterPlot</a></li>
<li class="toctree-l3"><a class="reference internal" href="scatterplot.html#scatterplotcurveitem">ScatterPlotCurveItem</a></li>
<li class="toctree-l3"><a class="reference internal" href="timeplot.html">PyDMTimePlot</a></li>
<li class="toctree-l3"><a class="reference internal" href="timeplot.html#timeplotcurveitem">TimePlotCurveItem</a></li>
<li class="toctree-l3"><a class="reference internal" href="event_plot.html">PyDMEventPlot</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Archiver Appliance Enabled Time Plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pydmarchivertimeplot">PyDMArchiverTimePlot</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot"><code class="docutils literal notranslate"><span class="pre">PyDMArchiverTimePlot</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#archiveplotcurveitem">ArchivePlotCurveItem</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem"><code class="docutils literal notranslate"><span class="pre">ArchivePlotCurveItem</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#formulacurveitem">FormulaCurveItem</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pydm.widgets.archiver_time_plot.FormulaCurveItem"><code class="docutils literal notranslate"><span class="pre">FormulaCurveItem</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="waveformplot.html">PyDMWaveformPlot</a></li>
<li class="toctree-l3"><a class="reference internal" href="waveformplot.html#waveformcurveitem">WaveformCurveItem</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#container-widgets">Container Widgets</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#drawing-widgets">Drawing Widgets</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#base-widgets">Base Widgets</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#utilities">Utilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="widget_rules/index.html">Widget Rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../add_data_plugins.html">Including Data Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../application.html">Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../channel.html">Channel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utilities/index.html">Utilities</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Plugins</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../data_plugins/local_plugin.html">Local Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_plugins/calc_plugin.html">Calc Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_plugins/p4p_plugin.html">P4P Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_plugins/external_plugins.html">External Data Plugins</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developers Corner</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development/development.html">Development Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/external_tools.html">External Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="widget_rules/customizing.html">Customizing Properties for Rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/designer_widgets.html">Designer Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/resources.html">Recommended Resources</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/slaclab/pydm">PyDM GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/slaclab">SLAC-wide GitHub</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PyDM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Widgets</a></li>
      <li class="breadcrumb-item active">Archiver Appliance Enabled Time Plots</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/widgets/archiver_timeplot.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="archiver-appliance-enabled-time-plots">
<h1>Archiver Appliance Enabled Time Plots<a class="headerlink" href="#archiver-appliance-enabled-time-plots" title="Permalink to this heading"></a></h1>
<p>Time plots can be augmented with the ability to automatically request archived data from an instance
of the EPICS archiver appliance if such an instance is available to the user.</p>
<p>In order to use this functionality, the environment variable PYDM_ARCHIVER_URL must be set to point to
the archiver appliance instance. For example:</p>
<blockquote>
<div><p>export PYDM_ARCHIVER_URL=http://lcls-archapp.slac.stanford.edu</p>
</div></blockquote>
<p>These plots can then be created with python code, or using designer.</p>
<ul class="simple">
<li><p>Creating in Designer</p></li>
</ul>
<p>After setting the above environment variable, archiver time plots will then be able to be created in designer through
the usual drag and drop flow. Upon opening designer, there will now be a plotting widget called PyDMArchiverTimePlot
available for use. The channel connections can be created in the same way as a regular
time plot, no need to preface anything with “archiver://”, the requests to archiver will happen
automatically upon running the plot and panning the x-axis to the left, or zooming out.</p>
<p>One property that will be particularly useful to set is the timeSpan. This value (in seconds) will determine how much
data to request from archiver upon plot initialization. For example, setting it to 600 will cause the plot to backfill
with the last 10 minutes worth of data for the plotted values anytime the plot is opened. If more data is needed after
starting up the plot, it can be requested as described below.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/archiver_time_plot_designer.png"><img alt="Creating PyDMArchiverTimePlot in Qt Designer" src="../_images/archiver_time_plot_designer.png" style="width: 673.0px; height: 463.0px;" /></a>
</figure>
<ul class="simple">
<li><p>Plot Usage</p></li>
</ul>
<p>Upon opening the plot, it will plot the requested amount of archived data. It will then behave like a regular time plot
with live data being added to the plot. If more archived data would be useful, requests can be made by either panning
the x-axis to the left, or zooming out on the entire plot. This will automatically generate a call to the archiver
appliance that will add data to the plot once it is received.</p>
<p>Note that there is a property on the plot called bufferSize which determines how many data points can be displayed on
the plot at once. If the request for archived data would return an amount greater than that buffer, it will convert
to a request for optimized data which includes the average, min, and max of each data point returned. These will then
be plotted as bars to show the full range of data represented by each point. As an example - with a buffer size
of 365, a request for a year of data for a PV that updates every second would return roughly
365 points each of which will contain the min and max of that day’s data to plot the full range represented.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/archiver_plot.gif"><img alt="Requesting additional data from a live plot" src="../_images/archiver_plot.gif" style="width: 500.0px; height: 400.0px;" /></a>
</figure>
</section>
<section id="pydmarchivertimeplot">
<h1>PyDMArchiverTimePlot<a class="headerlink" href="#pydmarchivertimeplot" title="Permalink to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pydm.widgets.archiver_time_plot.</span></span><span class="sig-name descname"><span class="pre">PyDMArchiverTimePlot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">QObject</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init_y_channels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">background</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimized_data_bins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request_cooldown</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_all</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_extension_lines</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#PyDMArchiverTimePlot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="timeplot.html#pydm.widgets.timeplot.PyDMTimePlot" title="pydm.widgets.timeplot.PyDMTimePlot"><code class="xref py py-class docutils literal notranslate"><span class="pre">PyDMTimePlot</span></code></a></p>
<p>PyDMArchiverTimePlot is a PyDMTimePlot with support for receiving data from
the archiver appliance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent</strong> (<em>QObject</em><em>, </em><em>optional</em>) – The parent of this widget.</p></li>
<li><p><strong>init_y_channels</strong> (<em>list</em>) – A list of scalar channels to plot vs time.</p></li>
<li><p><strong>background</strong> (<em>str</em>) – The background color for the plot.  Accepts any arguments that
pyqtgraph.mkColor will accept.</p></li>
<li><p><strong>optimized_data_bins</strong> (<em>int</em>) – The number of bins of data returned from the archiver when using optimized requests</p></li>
<li><p><strong>request_cooldown</strong> (<em>int</em>) – The time, in milliseconds, between requests to the archiver appliance</p></li>
<li><p><strong>cache_data</strong> (<em>bool</em>) – Whether curves should retain archive data or fetch new data when the x-axis changes</p></li>
<li><p><strong>show_all</strong> (<em>bool</em>) – Shifts the x-axis range to show all data, or stay where the user set the x-axis to</p></li>
<li><p><strong>show_extension_lines</strong> (<em>bool</em>) – Show a line extending from the right most point for all curves, defaults to False</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.addFormulaChannel">
<span class="sig-name descname"><span class="pre">addFormulaChannel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">yAxisName</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#pydm.widgets.archiver_time_plot.FormulaCurveItem" title="pydm.widgets.archiver_time_plot.FormulaCurveItem"><span class="pre">FormulaCurveItem</span></a></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#PyDMArchiverTimePlot.addFormulaChannel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.addFormulaChannel" title="Permalink to this definition"></a></dt>
<dd><p>Creates a FormulaCurveItem and links it to the given y axis</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.addYChannel">
<span class="sig-name descname"><span class="pre">addYChannel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_channel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_style</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lineStyle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lineWidth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symbolSize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">barWidth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upperThreshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lowerThreshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresholdColor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yAxisName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">useArchiveData</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">liveData</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_extension_line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem" title="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem"><span class="pre">ArchivePlotCurveItem</span></a></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#PyDMArchiverTimePlot.addYChannel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.addYChannel" title="Permalink to this definition"></a></dt>
<dd><p>Overrides timeplot addYChannel method to be able to pass the liveData flag.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.archive_data_received">
<span class="sig-name descname"><span class="pre">archive_data_received</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#PyDMArchiverTimePlot.archive_data_received"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.archive_data_received" title="Permalink to this definition"></a></dt>
<dd><p>Take any action needed when this plot receives new data from archiver appliance</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.cache_data">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cache_data</span></span><a class="headerlink" href="#pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.cache_data" title="Permalink to this definition"></a></dt>
<dd><p>Returns if the curves of the plot are caching archive data or
fetching new archive data on every change to the x-axis</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.clearCurves">
<span class="sig-name descname"><span class="pre">clearCurves</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#PyDMArchiverTimePlot.clearCurves"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.clearCurves" title="Permalink to this definition"></a></dt>
<dd><p>Clear all curves from the plot</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.createCurveItem">
<span class="sig-name descname"><span class="pre">createCurveItem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem" title="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem"><span class="pre">ArchivePlotCurveItem</span></a></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#PyDMArchiverTimePlot.createCurveItem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.createCurveItem" title="Permalink to this definition"></a></dt>
<dd><p>Create and return a curve item to be plotted</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.curves">
<span class="sig-name descname"><span class="pre">curves</span></span><a class="headerlink" href="#pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.curves" title="Permalink to this definition"></a></dt>
<dd><p>Dump and return the current list of curves and each curve’s settings into a list
of JSON-formatted strings.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.getArchiveBufferSize">
<span class="sig-name descname"><span class="pre">getArchiveBufferSize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#PyDMArchiverTimePlot.getArchiveBufferSize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.getArchiveBufferSize" title="Permalink to this definition"></a></dt>
<dd><p>Returns the size of the data buffer used to store archived data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.getCurves">
<span class="sig-name descname"><span class="pre">getCurves</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#PyDMArchiverTimePlot.getCurves"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.getCurves" title="Permalink to this definition"></a></dt>
<dd><p>Dump and return the current list of curves and each curve’s settings into a list
of JSON-formatted strings.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.requestDataFromArchiver">
<span class="sig-name descname"><span class="pre">requestDataFromArchiver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#PyDMArchiverTimePlot.requestDataFromArchiver"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.requestDataFromArchiver" title="Permalink to this definition"></a></dt>
<dd><p>Make the request to the archiver appliance data plugin for archived data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_x</strong> (<em>float</em><em>, </em><em>optional</em>) – Timestamp representing the start of the time period to fetch archive data from. Defaults
to the minimum value visible on the plot when omitted.</p></li>
<li><p><strong>max_x</strong> (<em>float</em><em>, </em><em>optional</em>) – Timestamp representing the end of the time period to fetch archive data from. Defaults
to the timestamp of the oldest live data point in the buffer if available. If no live points are
recorded yet, then defaults to the timestamp at which the plot was first rendered.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.setAutoScroll">
<span class="sig-name descname"><span class="pre">setAutoScroll</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">enable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timespan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refresh_rate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#PyDMArchiverTimePlot.setAutoScroll"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.setAutoScroll" title="Permalink to this definition"></a></dt>
<dd><p>Enable/Disable autoscrolling along the x-axis. This will (un)pause
the autoscrolling QTimer, which calls the auto_scroll slot when time is up.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>enable</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether or not to start the autoscroll QTimer, by default False</p></li>
<li><p><strong>timespan</strong> (<em>float</em><em>, </em><em>optional</em>) – The timespan to set for autoscrolling along the x-axis in seconds, by default 60</p></li>
<li><p><strong>padding</strong> (<em>float</em><em>, </em><em>optional</em>) – The size of the empty space between the data and the sides of the plot, by default 0.1</p></li>
<li><p><strong>refresh_rate</strong> (<em>int</em><em>, </em><em>optional</em>) – How often the scroll should occur in milliseconds, by default 5000</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.setCurves">
<span class="sig-name descname"><span class="pre">setCurves</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#PyDMArchiverTimePlot.setCurves"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.setCurves" title="Permalink to this definition"></a></dt>
<dd><p>Add a list of curves into the graph.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>new_list</strong> (<em>list</em>) – A list of JSON-formatted strings, each contains a curve and its
settings</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.setTimeSpan">
<span class="sig-name descname"><span class="pre">setTimeSpan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#PyDMArchiverTimePlot.setTimeSpan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.setTimeSpan" title="Permalink to this definition"></a></dt>
<dd><p>Set the value of the plot’s timespan</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.updateXAxis">
<span class="sig-name descname"><span class="pre">updateXAxis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">update_immediately</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#PyDMArchiverTimePlot.updateXAxis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.PyDMArchiverTimePlot.updateXAxis" title="Permalink to this definition"></a></dt>
<dd><p>Manages the requests to archiver appliance. When the user pans or zooms the x axis to the left,
a request will be made for backfill data</p>
</dd></dl>

</dd></dl>

</section>
<section id="archiveplotcurveitem">
<h1>ArchivePlotCurveItem<a class="headerlink" href="#archiveplotcurveitem" title="Permalink to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pydm.widgets.archiver_time_plot.</span></span><span class="sig-name descname"><span class="pre">ArchivePlotCurveItem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel_address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_archive_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">liveData</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_extension_line</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kws</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#ArchivePlotCurveItem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="timeplot.html#pydm.widgets.timeplot.TimePlotCurveItem" title="pydm.widgets.timeplot.TimePlotCurveItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimePlotCurveItem</span></code></a></p>
<p>ArchivePlotCurveItem is a TimePlotCurveItem with support for receiving data from
the archiver appliance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel_address</strong> (<em>str</em>) – The address to of the scalar data to plot. Will also be used to retrieve data
from archiver appliance if requested.</p></li>
<li><p><strong>use_archive_data</strong> (<em>bool</em>) – If True, requests will be made to archiver appliance for archived data when
the plot is zoomed or scrolled to the left.</p></li>
<li><p><strong>liveData</strong> (<em>bool</em>) – If True, the curve will gather data in real time.</p></li>
<li><p><strong>show_extension_line</strong> (<em>bool</em>) – If True, shows a line that extends from the right-most point to the future.
Defaults to False.</p></li>
<li><p><strong>**kws</strong> (<em>dict</em><em>[</em><em>str: any</em><em>]</em>) – Additional parameters supported by pyqtgraph.PlotDataItem.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.archiveConnectionStateChanged">
<span class="sig-name descname"><span class="pre">archiveConnectionStateChanged</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connected</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#ArchivePlotCurveItem.archiveConnectionStateChanged"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.archiveConnectionStateChanged" title="Permalink to this definition"></a></dt>
<dd><p>Capture the archive channel connection status and emit changes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>connected</strong> (<em>bool</em>) – The new connection status of the archive channel</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.channels">
<span class="sig-name descname"><span class="pre">channels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">PyDMChannel</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#ArchivePlotCurveItem.channels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.channels" title="Permalink to this definition"></a></dt>
<dd><p>Return the list of channels this curve is connected to</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.color">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">color</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">QColor</span></em><a class="headerlink" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.color" title="Permalink to this definition"></a></dt>
<dd><p>The color used for the curve.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>QColor</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.getArchiveBufferSize">
<span class="sig-name descname"><span class="pre">getArchiveBufferSize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#ArchivePlotCurveItem.getArchiveBufferSize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.getArchiveBufferSize" title="Permalink to this definition"></a></dt>
<dd><p>Return the length of the archive buffer</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.hide">
<span class="sig-name descname"><span class="pre">hide</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#ArchivePlotCurveItem.hide"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.hide" title="Permalink to this definition"></a></dt>
<dd><p>Propogate visibility changes to extension line and error bar.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.initializeArchiveBuffer">
<span class="sig-name descname"><span class="pre">initializeArchiveBuffer</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#ArchivePlotCurveItem.initializeArchiveBuffer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.initializeArchiveBuffer" title="Permalink to this definition"></a></dt>
<dd><p>Initialize the archive data buffer used for this curve.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.insert_archive_data">
<span class="sig-name descname"><span class="pre">insert_archive_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#ArchivePlotCurveItem.insert_archive_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.insert_archive_data" title="Permalink to this definition"></a></dt>
<dd><p>Inserts data directly into the archive buffer.</p>
<p>An example use case would be zooming into optimized mean-value data and
replacing it with the raw data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>np.ndarray</em>) – A numpy array of shape (2, length_of_data). Index 0 contains
timestamps and index 1 contains the data observations.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.lineWidth">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lineWidth</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.lineWidth" title="Permalink to this definition"></a></dt>
<dd><p>Return the width of the line connecting the data points.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.max_archiver_x">
<span class="sig-name descname"><span class="pre">max_archiver_x</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#ArchivePlotCurveItem.max_archiver_x"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.max_archiver_x" title="Permalink to this definition"></a></dt>
<dd><p>Provide the the most recent timestamp from the archiver data buffer.
This is useful for scaling the x-axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The timestamp of the most recent data point in the archiver data buffer.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.min_archiver_x">
<span class="sig-name descname"><span class="pre">min_archiver_x</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#ArchivePlotCurveItem.min_archiver_x"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.min_archiver_x" title="Permalink to this definition"></a></dt>
<dd><p>Provide the the oldest valid timestamp from the archiver data buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The timestamp of the oldest data point in the archiver data buffer.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.receiveArchiveData">
<span class="sig-name descname"><span class="pre">receiveArchiveData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#ArchivePlotCurveItem.receiveArchiveData"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.receiveArchiveData" title="Permalink to this definition"></a></dt>
<dd><p>Receive data from archiver appliance and place it into the archive data buffer.
Will overwrite any previously existing data at the indices written to.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>np.ndarray</em>) – A numpy array of varying shape consisting of archived data for display.
At a minimum, index 0 will contain the timestamps and index 1 the actual data observations.
Additional indices may be used as well based on the type of request made to the archiver appliance.
For example optimized data will include standard deviations, minimums, and maximums</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.receiveNewValue">
<span class="sig-name descname"><span class="pre">receiveNewValue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#ArchivePlotCurveItem.receiveNewValue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.receiveNewValue" title="Permalink to this definition"></a></dt>
<dd><p>Fill incoming live data if requested by user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>new_value</strong> (<em>float</em>) – The new y-value to append to the live data buffer</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.redrawCurve">
<span class="sig-name descname"><span class="pre">redrawCurve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#ArchivePlotCurveItem.redrawCurve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.redrawCurve" title="Permalink to this definition"></a></dt>
<dd><p>Redraw the curve with any new data added since the last draw call.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.remove_error_bar">
<span class="sig-name descname"><span class="pre">remove_error_bar</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#ArchivePlotCurveItem.remove_error_bar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.remove_error_bar" title="Permalink to this definition"></a></dt>
<dd><p>Remove the curve’s error bar when the curve is deleted.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.remove_extenstion_line">
<span class="sig-name descname"><span class="pre">remove_extenstion_line</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#ArchivePlotCurveItem.remove_extenstion_line"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.remove_extenstion_line" title="Permalink to this definition"></a></dt>
<dd><p>Remove the curve’s error bar when the curve is deleted.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.resetArchiveBufferSize">
<span class="sig-name descname"><span class="pre">resetArchiveBufferSize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#ArchivePlotCurveItem.resetArchiveBufferSize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.resetArchiveBufferSize" title="Permalink to this definition"></a></dt>
<dd><p>Reset the length of the archive buffer back to the default and zero it out</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.setArchiveBufferSize">
<span class="sig-name descname"><span class="pre">setArchiveBufferSize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#ArchivePlotCurveItem.setArchiveBufferSize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.setArchiveBufferSize" title="Permalink to this definition"></a></dt>
<dd><p>Set the length of the archive data buffer and zero it out</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.setLogMode">
<span class="sig-name descname"><span class="pre">setLogMode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xState</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yState</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#ArchivePlotCurveItem.setLogMode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.setLogMode" title="Permalink to this definition"></a></dt>
<dd><p>When log mode is enabled for the respective axis by setting xState or
yState to True, a mapping according to mapped = np.log10( value ) is applied
to the data. For negative or zero values, this results in a NaN value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xState</strong> (<em>bool</em>) – Set log mode for the x-axis</p></li>
<li><p><strong>yState</strong> (<em>bool</em>) – Set log mode for the y-axis</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.setVisible">
<span class="sig-name descname"><span class="pre">setVisible</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">visible</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#ArchivePlotCurveItem.setVisible"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.setVisible" title="Permalink to this definition"></a></dt>
<dd><p>Propogate visibility changes to extension line and error bar.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.set_error_bar">
<span class="sig-name descname"><span class="pre">set_error_bar</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#ArchivePlotCurveItem.set_error_bar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.set_error_bar" title="Permalink to this definition"></a></dt>
<dd><p>Update the data in the ErrorBarItem. Applies log10 to the ErrorBarItem
based on the curve’s log mode.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.set_extension_line_data">
<span class="sig-name descname"><span class="pre">set_extension_line_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#ArchivePlotCurveItem.set_extension_line_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.set_extension_line_data" title="Permalink to this definition"></a></dt>
<dd><p>Creates a dotted line from the lastest point in the buffer
(live or archived depending on if live data is active).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.show">
<span class="sig-name descname"><span class="pre">show</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#ArchivePlotCurveItem.show"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.show" title="Permalink to this definition"></a></dt>
<dd><p>Propogate visibility changes to extension line and error bar.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedDict</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#ArchivePlotCurveItem.to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.to_dict" title="Permalink to this definition"></a></dt>
<dd><p>Returns an OrderedDict representation with values for all properties needed to recreate this curve.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.y_axis_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">y_axis_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#pydm.widgets.archiver_time_plot.ArchivePlotCurveItem.y_axis_name" title="Permalink to this definition"></a></dt>
<dd><p>Return the name of the y-axis that this curve should be associated with. This allows us to have plots that
contain multiple y-axes, with each curve assigned to either a unique or shared axis as needed.
:rtype: str</p>
</dd></dl>

</dd></dl>

</section>
<section id="formulacurveitem">
<h1>FormulaCurveItem<a class="headerlink" href="#formulacurveitem" title="Permalink to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.FormulaCurveItem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pydm.widgets.archiver_time_plot.</span></span><span class="sig-name descname"><span class="pre">FormulaCurveItem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">formula</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pvs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_archive_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">liveData</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'green'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_style</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Line'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kws</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#FormulaCurveItem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.FormulaCurveItem" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">BasePlotCurveItem</span></code></p>
<p>FormulaCurveItem is a BasePlotCurve that takes in a formula of curves and evaluates to graph a function.</p>
<p>To use, instead of typing in a PV channel, this takes in the prefix ‘f://’ to indicate a function, then
uses curly braces ‘{&lt;PV row header&gt;}’ to find which curves to use as inputs. Other than that, FormulaCurveItems
have the capacity to handle basic arithmetic functions and also special functions like log() and trigonometry.</p>
<p>Finally, when populating its data buffers, it uses the union of the timesteps for each of its input curves, and uses
last seen data to fill in the gaps when calculating.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>formula</strong> (<em>str</em>) – The formula that we are graphing</p></li>
<li><p><strong>use_archive_data</strong> (<em>bool</em>) – If True, requests will be made to archiver appliance for archived data when
the plot is zoomed or scrolled to the left.</p></li>
<li><p><strong>pvs</strong> (<em>dict</em><em>[</em><em>str: BasePlotCurveItem</em><em>]</em>) – Has all the information for our FormulaCurveItem to evaluate the value at every timestep</p></li>
<li><p><strong>**kws</strong> (<em>dict</em><em>[</em><em>str: any</em><em>]</em>) – Additional parameters supported by pyqtgraph.PlotDataItem.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.FormulaCurveItem.arch_conn_change">
<span class="sig-name descname"><span class="pre">arch_conn_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#FormulaCurveItem.arch_conn_change"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.FormulaCurveItem.arch_conn_change" title="Permalink to this definition"></a></dt>
<dd><p>Capture the archive channel connection status of a given curve and
check connection status</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>status</strong> (<em>bool</em>) – Archive connection status for a given curve</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.FormulaCurveItem.checkFormula">
<span class="sig-name descname"><span class="pre">checkFormula</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#FormulaCurveItem.checkFormula"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.FormulaCurveItem.checkFormula" title="Permalink to this definition"></a></dt>
<dd><p>Make sure that our formula is still valid.
Namely, all of the input curves need to still exist in the viewer</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.FormulaCurveItem.compute_evaluation">
<span class="sig-name descname"><span class="pre">compute_evaluation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">formula</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pvData</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pvValues</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pvIndices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">archive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#FormulaCurveItem.compute_evaluation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.FormulaCurveItem.compute_evaluation" title="Permalink to this definition"></a></dt>
<dd><p>This is where the actual computation takes place. We are going to go through
the data step by step and calculate our formula at each timestamp available</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>formula</strong> (<em>str</em>) – The formula to compute</p></li>
<li><p><strong>pvData</strong> (<em>dict</em>) – A dictionary containing all of the Archive or Live data for each curve</p></li>
<li><p><strong>pvValues</strong> (<em>dict</em>) – The value of each curve at the current timestep. At the start of this function,
each is set to their respective last seen values when the time is equal to the
latest start time of all of the curves.</p></li>
<li><p><strong>pvIndices</strong> (<em>dict</em>) – A dictionary storing where in each curve’s data buffer we are currently at while calculating</p></li>
<li><p><strong>archive</strong> (<em>bool</em>) – Whether or not this is computing for the Archive or for Live</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.FormulaCurveItem.connection_status_check">
<span class="sig-name descname"><span class="pre">connection_status_check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#FormulaCurveItem.connection_status_check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.FormulaCurveItem.connection_status_check" title="Permalink to this definition"></a></dt>
<dd><p>Check the connection status of all live and archive curves. Save and
emit any changes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.FormulaCurveItem.createTrueFormula">
<span class="sig-name descname"><span class="pre">createTrueFormula</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#FormulaCurveItem.createTrueFormula"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.FormulaCurveItem.createTrueFormula" title="Permalink to this definition"></a></dt>
<dd><p>Convert our human-readable formula to something easier to use for the computer, in the background only</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.FormulaCurveItem.evaluate">
<span class="sig-name descname"><span class="pre">evaluate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#FormulaCurveItem.evaluate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.FormulaCurveItem.evaluate" title="Permalink to this definition"></a></dt>
<dd><p>Use our formula and input curves to calculate our value at each timestep.
If one curve updates at a certain timestep and another does not, it uses the previously
seen data of the second curve, and assumes it is accurate at the current timestep.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.FormulaCurveItem.getArchiveBufferSize">
<span class="sig-name descname"><span class="pre">getArchiveBufferSize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#FormulaCurveItem.getArchiveBufferSize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.FormulaCurveItem.getArchiveBufferSize" title="Permalink to this definition"></a></dt>
<dd><p>Return the length of the archive buffer</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.FormulaCurveItem.initializeArchiveBuffer">
<span class="sig-name descname"><span class="pre">initializeArchiveBuffer</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#FormulaCurveItem.initializeArchiveBuffer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.FormulaCurveItem.initializeArchiveBuffer" title="Permalink to this definition"></a></dt>
<dd><p>Initialize the archive data buffer used for this curve.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.FormulaCurveItem.live_conn_change">
<span class="sig-name descname"><span class="pre">live_conn_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#FormulaCurveItem.live_conn_change"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.FormulaCurveItem.live_conn_change" title="Permalink to this definition"></a></dt>
<dd><p>Capture the live channel connection status of a given curve and
check connection status</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>status</strong> (<em>bool</em>) – Live connection status for a given curve</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.FormulaCurveItem.max_archiver_x">
<span class="sig-name descname"><span class="pre">max_archiver_x</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#FormulaCurveItem.max_archiver_x"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.FormulaCurveItem.max_archiver_x" title="Permalink to this definition"></a></dt>
<dd><p>Provide the the most recent timestamp from the archiver data buffer.
This is useful for scaling the x-axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The timestamp of the most recent data point in the archiver data buffer.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.FormulaCurveItem.min_archiver_x">
<span class="sig-name descname"><span class="pre">min_archiver_x</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#FormulaCurveItem.min_archiver_x"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.FormulaCurveItem.min_archiver_x" title="Permalink to this definition"></a></dt>
<dd><p>Provide the the oldest valid timestamp from the archiver data buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The timestamp of the oldest data point in the archiver data buffer.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.FormulaCurveItem.redrawCurve">
<span class="sig-name descname"><span class="pre">redrawCurve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#FormulaCurveItem.redrawCurve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.FormulaCurveItem.redrawCurve" title="Permalink to this definition"></a></dt>
<dd><p>Redraw the curve with any new data added since the last draw call.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.FormulaCurveItem.resetArchiveBufferSize">
<span class="sig-name descname"><span class="pre">resetArchiveBufferSize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#FormulaCurveItem.resetArchiveBufferSize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.FormulaCurveItem.resetArchiveBufferSize" title="Permalink to this definition"></a></dt>
<dd><p>Reset the length of the archive buffer back to the default and zero it out</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.FormulaCurveItem.setArchiveBufferSize">
<span class="sig-name descname"><span class="pre">setArchiveBufferSize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#FormulaCurveItem.setArchiveBufferSize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.FormulaCurveItem.setArchiveBufferSize" title="Permalink to this definition"></a></dt>
<dd><p>Set the length of the archive data buffer and zero it out</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.FormulaCurveItem.set_up_eval">
<span class="sig-name descname"><span class="pre">set_up_eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">archive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#FormulaCurveItem.set_up_eval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.FormulaCurveItem.set_up_eval" title="Permalink to this definition"></a></dt>
<dd><p>Because we are doing very similar evaluations for Archive and Live Data,
we are going to set up our data structures such that we can compute our evaluation
more easily. This function will (generally) be called twice, once with archive = True,
once with False</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>archive</strong> (<em>bool</em>) – Whether this is setting up for Archive Data or Live Data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydm.widgets.archiver_time_plot.FormulaCurveItem.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedDict</span></span></span><a class="reference internal" href="../_modules/pydm/widgets/archiver_time_plot.html#FormulaCurveItem.to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydm.widgets.archiver_time_plot.FormulaCurveItem.to_dict" title="Permalink to this definition"></a></dt>
<dd><p>Returns an OrderedDict representation with values for all properties needed to recreate this curve.</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="event_plot.html" class="btn btn-neutral float-left" title="PyDMEventPlot" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="waveformplot.html" class="btn btn-neutral float-right" title="PyDMWaveformPlot" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, hhslepicka, trendahl, zlentz, yektay, nstelter.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>